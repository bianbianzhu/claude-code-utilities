# Spec Review Processing Summary — v10

Processed: 2026-01-30

---

## Issues Summary

| Issue ID | Title | Decision | Changes Applied | Guide Rule |
|----------|-------|----------|-----------------|------------|
| 1 | Booking search / fuzzy match data contract missing | Already Resolved | None — contracts already added in prior iteration | G8 |
| 2 | Missing centralized contracts for service boundary responses | Partially Accepted | Added `ServiceError` contract; declined `HandleBookingUpdateResponse` discriminated union | G9 |
| 3 | Retry/attempt behavior is inconsistent and uses hardcoded counts | Already Resolved | None — clarification wording already fixed in prior iteration | G3 |
| 4 | `action_id` constraints contradict "matches OpenAPI operationId" | Already Resolved | None — constraint already corrected in prior iteration | Glossary |

---

## Detailed Decisions

### Issue 1: Booking search / fuzzy match data contract

**Decision:** Already Resolved

**Verification:** `BookingSearchQuery` and `BookingSummary` contracts are present in `specs/contracts/data-definitions.md`. The "Booking Resolution Flow" section in the design spec references these contracts.

---

### Issue 2: Missing centralized contracts for service boundary responses

**Decision:** Partially Accepted

**Changes Applied:**
- Added `ServiceError` contract to `specs/contracts/data-definitions.md` (fields: `error_type`, `message`)
- Updated `specs/2026-01-29-booking-updates-design.md` to reference `ServiceError` instead of inline prose

**Declined:**
- Creating a `HandleBookingUpdateResponse` discriminated union contract

**Reasoning:** The individual payload types (`ExecutionPlan`, `ServiceError`, clarification string) are now all centralized. The "one of" response semantics are clear from prose and do not require a formal discriminated union contract. Specifying discriminator field names (e.g., `response_kind`) would prescribe implementation structure, violating G4 (data shapes should remain abstract/language-agnostic). The service boundary contract is sufficiently defined by the centralized payload types.

---

### Issue 3: Retry/attempt behavior

**Decision:** Already Resolved

**Verification:** The design spec uses "bounded clarification attempts (configurable, small number)" — no hardcoded counts. Executor language specifies "re-attempt steps that failed due to correctable issues" rather than blanket "retry."

---

### Issue 4: `action_id` constraints

**Decision:** Already Resolved

**Verification:** `specs/contracts/data-definitions.md` defines `action_id` with constraint "matches source operationId" and description "preserves original format" — no `snake_case` restriction.

---

## Files Modified

- `specs/contracts/data-definitions.md` — Added `ServiceError` contract
- `specs/2026-01-29-booking-updates-design.md` — Updated error response reference to use `ServiceError` contract

# Feedback — v3 Spec Review

---

## Feedback

### Issue 3: Booking domain contracts missing

- **Suggestion**: Add minimal internal "post-adapter" contracts for booking disambiguation fields and canonical placeholder key inventory in data-definitions.md
- **Decision**: Declined
- **Reasoning**: The external ROLLER API contract is explicitly unknown (Open Questions: "What's the exact format of booking search API response?"). Defining normalized booking contracts now would require speculating about external shapes that may change. The `map[string, any]` typing for `parameters` and `response_data` is intentional design flexibility — not a gap. G9 requires centralized contracts for known shared shapes; the booking search response shape is not yet known. When the external API is confirmed, the planning phase can define concrete internal contracts. This is the correct sequencing per the dual-layer contracts architecture: spec layer defines abstract behavioral contracts, planning layer generates implementation types when external dependencies are resolved.

### Issue 4: External service interface incomplete (partial)

- **Suggestion**: Add centralized boundary request/response contract tables (e.g., `HandleBookingUpdateRequest/Response`, `ConfirmPlanRequest/Response`)
- **Decision**: Declined (this portion only)
- **Reasoning**: The spec describes inputs/outputs for each inbound interface in prose with references to the centralized `ExecutionPlan` contract. Per SPEC_GENERATION_GUIDE, behavioral contracts describe "Input → output → side effects" — this is satisfied. Adding formal request/response envelope tables would approach implementation-level detail (method signatures, error response envelopes) that the spec intentionally avoids. The current descriptions are sufficient for an implementer to understand the boundary; exact payload shapes are determined during planning when the actual IQ integration contract is established.
